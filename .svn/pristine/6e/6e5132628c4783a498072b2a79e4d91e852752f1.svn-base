#ifndef BATTLEFIELDMGR_H
#define BATTLEFIELDMGR_H
#include "InstanceProto.h"
#include <iostream>

struct BattlefieldProto
{
	unsigned char	type; //阵营
	std::string		name;//玩家名
	unsigned int	id;  //玩家ID
	int				level;//等级
	int			killNum;//击杀敌人
	int			killBoss;//击杀首领
	int			killSorder;//击杀卫兵
	int				ranking;//排名
	char			reward;//奖励
	int			score;//荣誉
};

class BattlefieldMgr
{
private:
	typedef std::vector<BattlefieldProto> BattlefieldData;
	BattlefieldData _allcampData;
	BattlefieldData _mfwcData;
	BattlefieldData _brdgData;
	BattlefieldProto _localPlayerData;
	char _victory;
public:
	BattlefieldMgr();
	~BattlefieldMgr();
	void Destroy();
public:
	static BattlefieldMgr *getInstance();

	void onEnterBattlefield();
	unsigned int onEnterBattldefieldCallBack(s_net_cmd *cmd);
	unsigned int endBattlefield(s_net_cmd *cmd);

	const BattlefieldData &getAllcampData() const { return _allcampData; }
	const BattlefieldData &getMFWCData() const {return _mfwcData; }
	const BattlefieldData &getBRDGData() const {return _brdgData; }
	const BattlefieldProto &getLocalPalyerData() { return _localPlayerData; }
	void setVictory(char v) { _victory = v; }
	char getVictory() { return _victory; }
	int getTotal();
};

#endif